# reCAPTCHA secret for PHP
SetEnv RECAPTCHA_SECRET_KEY "6Ld-rAAsAAAAAGL-KmDAkPILQ6IjXqW8q0npL9TA"

# If a recaptcha.php file exists in web root, block it from web access
<Files "recaptcha.php">
  Require all denied
</Files>

# Enable Rewrite Engine
RewriteEngine On

# Redirect /About-Us to /companyprofile (with or without trailing slash)
RewriteRule ^About-Us/?$ /companyprofile/ [R=301,L]

# Redirect /About-Us.html to /companyprofile/
RewriteRule ^About-Us\.html$ /companyprofile/ [R=301,L]

# Redirect /companyprofile.html to /companyprofile/
RewriteRule ^companyprofile\.html$ /companyprofile/ [R=301,L]

# Remove .html extension from URLs (if someone accesses with .html)
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^([^\.]+)\.html$ /$1/ [R=301,L]

# Handle trailing slashes - ensure directories have trailing slash
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_URI} !(.*)/$
RewriteRule ^(.*)$ /$1/ [R=301,L]

# Internal rewrite to serve index.html for directories
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)/$ /$1/index.html [L]

# Fallback for root and other routes
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ /$1/index.html [L]
